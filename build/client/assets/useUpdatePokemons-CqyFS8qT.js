import{a as g,u as k,l as P}from"./LocalStore-CoLjZkaN.js";import{a as r}from"./chunk-4WY6JWTD-C6HYQV7D.js";const i=(e,t)=>g.get(e,{params:{...t,q:"bulbasaur"}}),d=(e,t)=>g.get(e,{params:t}),p=()=>{const[e,t]=r.useState(!1),[m,u]=r.useState(),[l,o]=r.useState(!1),n=async a=>{t(!0),o(!1);try{const c=await a();return u(c.data),Promise.resolve(c.data)}catch(c){throw o(!0),console.error("Error fetching data:",c),c}finally{t(!1)}};return{API:{getPokemons:async a=>await n(()=>i("pokemon",a)),getPokemon:async(a,c)=>await n(()=>d(`pokemon/${a}`,c))},loading:e,error:l,data:m}},y=()=>{const[e,t]=k(),m=o=>!!e?.caughtPokemons?.find(n=>n.name===o?.name),u=r.useCallback(o=>{if(e?.caughtPokemons?.find(a=>a.name===o.name)){alert(`${o.name} already added!`);return}const s=[...e?.caughtPokemons??[]];s.splice(s.length,0,{...o,timestamp:`${new Date().toLocaleDateString()}, ${new Date().toLocaleTimeString()}`}),t(P.caughtPokemons,[...s])},[e?.caughtPokemons]),l=r.useCallback(o=>{const n=e?.caughtPokemons?.findIndex(a=>a.name===o.name),s=[...e?.caughtPokemons??[]];s.splice(n,1),t(P.caughtPokemons,s)},[e?.caughtPokemons]);return{catchPokemon:u,removePokemon:l,hasCaughtPokemon:m}};export{p as a,y as u};
